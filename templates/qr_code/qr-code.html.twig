{% extends 'base.html.twig' %}

{% block title %}Hello QrCodeController!{% endblock %}

{% block body %}
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>
<div id="qr-code"></div>
<div id="message" style="display: none;">Vous êtes bien présent</div>

<script type="text/javascript">
    let text = "http://ton-url-ici.com";
        
        function generateQRCode() {
            let qrcodeContainer = document.getElementById("qr-code");
            let qr = new QRCode(qrcodeContainer, text);

            qrcodeContainer.addEventListener("click", function() {
                qrcodeContainer.style.display = "none";
                let message = document.getElementById("message");
                message.style.display = "block";
            });
        }

        generateQRCode();

    // JS POUR RETRANSCRIRE LE MAIL ECRIT PAR L'UTILISATEUR
    var enteredContent = localStorage.getItem('enteredContent');
    console.log("Contenu récupéré : " + enteredContent);
</script>
{% endblock %}
